<html>    
    <meta name="theme-color" content="chocolate" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" type="text/css" href="hitech.css">
    <head>
        <style>
            body,
            html {
                height: 100%;
                margin: 0;
            }
            .bg {
                background-image: url("jurnal.png");
                height: 100%;
                background-position: center;
                background-repeat: no-repeat;
                background-size: 100% 100%;
            }
            .bg2 {
                background-image: url("jurnal.png");
                height: 100%;
                background-position: center;
                background-repeat: no-repeat;
                background-size: 90% 90%;
                border-radius: 10px;
                z-index:9009;
            }
        </style>
    
    <script type="text/javascript"> 
            const divs = ["porto"];
           
            const keles = ["linear-gradient(45deg,lightgrey,rgb(209, 207, 207),lightgrey,rgb(209, 207, 207))", "linear-gradient(45deg,lightskyblue,rgb(7, 150, 207))", "linear-gradient(45deg,rgb(250, 189, 242),rgb(199, 114, 255))", "linear-gradient(45deg,yellow,goldenrod)", "linear-gradient(45deg,rgb(46, 167, 46),palegreen)"]; 
            
            function ajaxakudong(grace, s, kelir) {                 
                for (i = 1; i <= 1; i++) {
                    document.getElementById(i + "a").style.background = 'white';
                    document.getElementById(i + "a").style.color = 'blue';
                }
                document.getElementById(s + "a").style.background = keles[s - 1];
                document.getElementById(s + "a").style.color = "white";
                document.getElementById(s + "a").style.transition = "ease-in-out 0.5s";
    
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        document.getElementById("f").innerHTML = this.responseText;
                    }
                };
                xhttp.open("GET", grace, true);
                xhttp.send();
            }
    
            var pro = new IntersectionObserver(function (entries) { 
                if (entries[0].isIntersecting === true) {
                    ajaxakudong('a', '1');
                }
            }, {
                threshold: [0.5]
            });

            function glek(tt){
               if(mode!=""){
                    document.getElementById("ige").style.visibility='visible';
                    if(tt == 't'){
                        document.getElementById("ige").style.visibility='hidden';
                    }
               }readDB();
            }

            function lek(){
                document.getElementById("gei").style.visibility='hidden';                
            }

            function getcell(a1,b1){ 
             
               muncul = 'visible'; hilang = 'hidden';
               glek('t');
               document.getElementById("accnm").value = a1;
               document.getElementById("accno").value = b1;
                    
                    
                document.getElementById('dd1').style.visibility = muncul;
                document.getElementById('dd2').style.visibility = muncul;
            }
            function readDB(){
                var xmlDoc;
                var xmlFile="1.xml";
                    if(typeof window.DOMParser != "undefined") {
                        xmlhttp=new XMLHttpRequest();
                        xmlhttp.open("GET",xmlFile,false);
                        if (xmlhttp.overrideMimeType){
                            xmlhttp.overrideMimeType('text/xml');
                        }
                        xmlhttp.send();
                        xmlDoc=xmlhttp.responseXML;
                    }
                    else{
                        xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
                        xmlDoc.async="false";
                        xmlDoc.load(xmlFile);
                    }
                    var tagObj=xmlDoc.getElementsByTagName("maccount");
                    var p = document.getElementById('penel');

                        s = "<table id='gom' style='width:100%;height:80%'>";
                            s = s+  " <tr>";
                                s = s+  " <td align='center'>";
                                s = s+  " Account No ";
                                s = s+  " </td>";
                                s = s+  " <td align='center'>";
                                s = s+  " Account Name ";
                                s = s+  " </td>";
                            s = s + " </tr>";
                                for(i=0;i<=tagObj.length-1;i++){
                                        var cacc = tagObj[i].getElementsByTagName("cAccountNo")[0].childNodes[0].nodeValue;
                                        var cdes = tagObj[i].getElementsByTagName("cDescription")[0].childNodes[0].nodeValue;
                                        s = s+  " <tr>";
                                        s = s+  " <td align='center' onclick=getcell('"+cacc+"','"+cdes+"') style='cursor:pointer' >";
                                        s = s+  cacc;
                                        s = s+  " </td>";
                                        s = s+  " <td align='center' onclick=getcell('"+cacc+"','"+cdes+"') style='cursor:pointer'>";
                                        s = s+  cdes;
                                        s = s+  " </td>";
                                        s = s + " </tr>";
                                }
                        s = s + "</table>";
                    p.innerHTML = s;
            }
            
            function ceklik(){
                t = document.getElementById('gom');
                //alert('tek');
            }
        
            function firststate(){mode="";

                let ms = Date.now();
               
                document.getElementById('dt1').value = ms;

                muncul = 'visible'; hilang = 'hidden';
                document.getElementById('sh').style.visibility = hilang;
                document.getElementById('bb1').style.visibility = muncul;
                document.getElementById('bb2').style.visibility = hilang;
                document.getElementById('bb3').style.visibility = hilang;
                document.getElementById('bb4').style.visibility = muncul;

                //document.getElementById('bb5').style.visibility = hilang;
                document.getElementById('t1').style.opacity = 0;
                document.getElementById('t1').style.transition = "ease-in-out 0.5s";

                document.getElementById('dd1').style.visibility = hilang;
                document.getElementById('dd2').style.visibility = hilang;

                document.getElementById("accnm").value = '';
                document.getElementById("accno").value = '';                
                    try {
                        if(document.getElementById("yom").rows.length >= 2){
                            while (document.getElementById("yom").rows.length >= 2) {
                                document.getElementById("yom").deleteRow(2);
                            }
                        }   
                    }
                    catch(err) {  }                    
                document.getElementById("yom").rows[1].cells[0].innerHTML = "";
                document.getElementById("yom").rows[1].cells[1].innerHTML = "";
                document.getElementById("yom").rows[1].cells[2].innerHTML = "0";
                document.getElementById("yom").rows[1].cells[3].innerHTML = "0";
                document.getElementById("yom").rows[1].cells[4].innerHTML = "<a href='#' onclick='ed(1)' >Edit</a> <a href='#' onclick='de(1)' >Delete</a>";
                
                
            }
            var mode="";
            function anyar(){                
                mode="new";
                muncul = 'visible'; hilang = 'hidden';
                document.getElementById('sh').style.visibility = muncul;
                document.getElementById('bb1').style.visibility = hilang;
                document.getElementById('bb2').style.visibility = hilang;
                document.getElementById('bb3').style.visibility = muncul;
                document.getElementById('bb4').style.visibility = muncul;

                //document.getElementById('bb5').style.visibility = muncul;
                document.getElementById('t1').style.opacity = 1;
                document.getElementById('t1').style.transition = "ease-in-out 0.5s";
            }

            function cb(){
                document.getElementById("gei").style.visibility='visible';
            }

            function cl(){firststate();}

            function cld(){
                document.getElementById("accnm").value = '';
                document.getElementById("accno").value = '';
            }
            
            function tambahbaris(){
                i = (document.getElementById("yom").rows.length)  ;
                var table = document.getElementById("yom");
                var row = table.insertRow(i);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                var cell4 = row.insertCell(3);
                var cell5 = row.insertCell(4);
                cell1.innerHTML = "";
                cell2.innerHTML = "";
                cell3.innerHTML = "0";
                cell4.innerHTML = "0";
                j = (document.getElementById("yom").rows.length)-1 ;
                cell5.innerHTML = "<a href='#' onclick='ed("+j+")' >Edit</a> <a href='#' onclick='de("+j+")'>Delete</a>";
            }

            function ed(s){mode="edit";
               document.getElementById("accno").value = document.getElementById("yom").rows[s].cells[0].innerHTML;
               document.getElementById("accnm").value = document.getElementById("yom").rows[s].cells[1].innerHTML;
                  
                  if(document.getElementById("yom").rows[s].cells[2].innerHTML != "0"){
                    document.getElementById("nom").value   = document.getElementById("yom").rows[s].cells[2].innerHTML;
                    document.getElementById("hayo").value = "Debet";
                   }else{
                    document.getElementById("nom").value   = document.getElementById("yom").rows[s].cells[3].innerHTML;
                    document.getElementById("hayo").value = "Credit";
                   }
            }

            function de(s){
            //   alert(  document.getElementById("yom").rows[s].cells[0].innerHTML);

            }
            function saved(){
                if(mode =="new"){
                    i = (document.getElementById("yom").rows.length);
                    if(i==2){
                    document.getElementById("yom").rows[1].cells[0].innerHTML = document.getElementById("accno").value;
                    document.getElementById("yom").rows[1].cells[1].innerHTML = document.getElementById("accnm").value;
                    if(document.getElementById("hayo").value == "Debet"){
                        document.getElementById("yom").rows[1].cells[2].innerHTML = document.getElementById("nom").value.toLocaleString();
                    }else{
                        document.getElementById("yom").rows[1].cells[3].innerHTML = document.getElementById("nom").value.toLocaleString();
                    }
                    tambahbaris();
                    }else{
                    j = (document.getElementById("yom").rows.length) - 1;
                    document.getElementById("yom").rows[j].cells[0].innerHTML = document.getElementById("accno").value;
                    document.getElementById("yom").rows[j].cells[1].innerHTML = document.getElementById("accnm").value;                    
                    if(document.getElementById("hayo").value == "Debet"){
                        document.getElementById("yom").rows[j].cells[2].innerHTML = document.getElementById("nom").value.toLocaleString();
                    }else{
                        document.getElementById("yom").rows[j].cells[3].innerHTML = document.getElementById("nom").value.toLocaleString();
                    }                    
                        tambahbaris();
                    }
                }                    
                mode="new";
            }

        </script>
    </head>
    
    <body onload = "firststate()"style="background-color: transparent;" id="se">

        <div id="ige" style=" border-radius: 5px;   visibility: hidden; z-index:61677; position: fixed; left:10%; top:30%;background-color:beige; width: 80%; height: 40%;  text-align: center;  vertical-align: middle; scroll-behavior: smooth; ">
          <a onclick="glek('t')" style="cursor: pointer;">Close(x)</a><br>
            <div style="background-color: white; width: 100%; height: 20%;">
                <!-- <select>
                    <option>Account No</option>
                    <option>Account Name</option>
                </select> -->
                Account Name <input id="golek" type="text" onkeyup="ceklik()">
            </div>
            <div id="penel" style="width: 100%; height: 80%; overflow: scroll; font-size: 200%;">
             
            </div>
        </div>

        <div id="gei" style=" border-radius: 5px; visibility: hidden; z-index:61677; position: fixed; left:2.5%; top:2.5%;background-color:rgba(243, 199, 134, 0.842); width: 95%; height: 95%;  text-align: center;  vertical-align: middle; scroll-behavior: smooth; ">
            <a onclick="lek('t')" style=" width: 100%;  cursor: pointer; ">Close(x)</a><br>
            <table border="0"id="tbrowse" style="width: 100%; height: 96%;">
                <thead style="background-color: goldenrod; color: aliceblue; height: 5%;">
                    <tr>
                     <th style="width: 40%;font-size: 80%; vertical-align: top;">Docno</th>                    
                    </tr>
                </thead>
                <tbody style="background-color: aliceblue; color: maroon; height: 80%;">
                    <tr>
                        <td></td>                         
                    </tr>
                    <tr>
                        <td> </td>                         
                    </tr>
                    <tr>
                        <td> </td>                         
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div id="canva" class="bg1" style="background: rgb(250, 250, 237);">
            <div data-role="page" id="ooo" style="scroll-behavior: smooth; overflow:scroll; position: absolute; left: 0px; top: 0px;height:100%;width:100%;z-index:1 ">
                <div style="background-color: transparent;">
                    <center>
                        <Div id="atas">
                            <a href="#porto" onclick="ajaxakudong('a','1','beige')">                                 
                                <div class="kelas" id="1a"style="border-radius:5px;background-color: white;height: 200%;float:left;width: 100%;" ;>                                
                                    <table style="width: 100%;">
                                        <tr>
                                            <td align="center" style="vertical-align: middle;"class="telp">
                                              Entry Journal
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </a>
                        </Div>
                    </center>
                </div>
                
                <div id="porto" style="overflow:hidden;background: rgb(250, 250, 237);width: 100%; ">
                    <div style="height: 8%;"></div>
                        <!-- <form action="mem.html" method="post"> -->
                            <center>
                                <table border=0 cellpading="0px" cellspacing="0px"  style="width: 95%; height: 87%;" >
                                    <tr style="height: 5%;">
                                        <td style="width: 8%;">Journal Number</td>
                                        <td style="width: 35%;"><input placeholder="xx/xx/xxxx"  type="text" value="" style=" width: 100%; height: 80%;"></td>
                                        
                                        <td style="width: 8%;" align="center">Date Document</td>
                                        <td style="width: 35%;"><input id="dt1"type="date"style="width: 100%; height: 80%;"> </td>
                                    </tr>
                                    <tr style="height: 30%;">
                                        <td colspan="4">
                                            <div style=" width: 100%; height: 155px; overflow: scroll;">
                                                <table border="0" id="yom"cellpading="0px" cellspacing="0px" style=" border-radius: 5px;  width: 100%; height: 155px;                                                box-shadow: 5px 5px 5px #888888;">
                                                <thead style="background-color: grey; color: aliceblue; height: 5%;">
                                                    <tr>
                                                    <th style="width: 40%;font-size: 80%; vertical-align: top;">Account Name</th>
                                                    <th style="width: 10%;font-size: 80%;vertical-align: top;">Account Number</th>
                                                    <th style="width: 10%;font-size: 80%;vertical-align: top;">Debet</th>
                                                    <th style="width: 10%;font-size: 80%;vertical-align: top;">Credit</th>
                                                    <th style="width: 10%;font-size: 80%;vertical-align: top;">Op</th>
                                                    </tr>
                                                </thead>
                                                <tbody style="background-color: aliceblue; color: maroon; height: 80%;">
                                                    <tr>
                                                        <td></td>
                                                        <td></td>
                                                        <td>0</td>
                                                        <td >0</td>
                                                        <td>
                                                            <a href="#" onclick="ed('1')">Edit</a> <a href="#" onclick="de('1')">Delete</a>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            </div>
                                            
                                        </td>                             
                                    </tr>

                                    <tr style="height: 20%;">
                                        <td style="width: 8%;">
                                            <table border="0" style="width: 100%; height: 100%;">
                                                <tr><td>Account Name</td></tr>
                                                <tr><td>Account No</td></tr>
                                                <tr><td>Debet / Credit</td></tr>
                                                <tr><td>Nominal </td></tr>
                                            </table>
                                        </td>
                                        <td colspan="3"style="width: 42%;">
                                            <table border="0" style="width: 100%; height: 100%;">
                                                <tr>
                                                    <td>                                                        
                                                        <table border="0" style="width: 100%; height: 100%; ">
                                                            <Tr>
                                                                <td style="width:95%">
                                                                    <input placeholder="Account Name"type="text"style=" width: 100%; height: 100%;"id="accnm" disabled> 
                                                                </td>
                                                                <td style="width:5%"> 
                                                                    <div id="sh"onclick="glek('')"  class="biru" style="cursor: pointer; text-align: center; font-size: 80%; font-weight: bold; vertical-align: middle;">
                                                                        <table style="width: 100%; height: 100%;">
                                                                            <tr>
                                                                                <td align="center" style="color: white;">
                                                                                    Show
                                                                                </td>
                                                                            </tr>
                                                                        </table>    
                                                                    </div> 
                                                                </td>
                                                            </Tr>
                                                        </table>
                                                     </td>
                                                </tr>
                                                <tr><td><input type="text"style=" box-shadow: 0px 0px 0px #888888; border:0px; width: 50%; height: 100%; background:transparent  "id="accno" value="xx.xx.xx" disabled> </td></tr>
                                                <tr><td>
                                                    <select id="hayo">
                                                        <option>Debet</option>
                                                        <option>Credit</option>
                                                    </select>

                                                </td></tr>
                                                <tr><td>
                                                    <input required placeholder="Please input the nominal" type="text"style="width: 90%; height: 100%;"id="nom" > </td></tr>
                                            </table>
                                        </td>
                                    </tr>

                                    <tr style="height: 9%;">                                        
                                        <td style="vertical-align:bottom ;">Terbilang </td>
                                        <td colspan="3"style="vertical-align:bottom ;">
                                            blablablabla
                                        </td>
                                    </tr>
                                    <tr style="height: 1%;">                                        
                                        <td> </td>
                                        <td colspan="3" style="vertical-align: top;">
                                            <hr CLASS="hrkuku">
                                        </td>
                                    </tr>

                                    <tr>
                                        <td colspan="4" style="height: 5%;" >
                                            <table border="0" cellpading="0" cellspacing="0" style="width: 30%; height: 100%;">
                                                <Tr>
                                                    <td><input type="submit" name="d1" id="dd1"value="Save"class="biru" onclick="saved()" style="box-shadow: 5px 5px 5px #888888;"></td>
                                                    <td><input type="submit" name="d2" id="dd2"value="Cancel"class="biru" onclick="cld()" style="box-shadow: 5px 5px 5px #888888;"></td>
                                                </Tr>
                                            </table>
                                        </td>
                                    </tr>

                                    <tr style="height: 10%;">
                                        <td colspan="4"> 
                                            <table style="width: 100%; height: 100%;">
                                                <tr>
                                                    <td>
                                                        
                                                            <input type="submit" name="b1" id="bb1"value="New"class="submit" onclick="anyar()" style="box-shadow: 5px 5px 5px #888888;">
                                                       
                                                    </td>
                                                    <td><input type="submit" name="b2" id="bb2"value="Posting"class="submit"style="box-shadow: 5px 5px 5px #888888;"></td>
                                                    <td><input type="submit" name="b3" id="bb3"value="Save"class="submit"style="box-shadow: 5px 5px 5px #888888;"></td>
                                                    <td><input type="submit" name="b4" id="bb4"value="Callback"class="submit"onclick="cb()"style="box-shadow: 5px 5px 5px #888888;"></td>
                                                    <td>
                                                        <div id ="t1" style="width: 100%; height: 100%;">
                                                            <input type="submit" name="b5" id="bb5"value="Cancel"class="submit"onclick="cl()"style="box-shadow: 5px 5px 5px #888888;">
                                                        </div>
                                                    </td>                                            
                                                </tr>
                                            </table>
                                        </td> 
                                    </tr>
                                </table>
                            </center>
                        <!-- </form> -->
                </div>
            </div>
        </div>
    </body> 
</html>
